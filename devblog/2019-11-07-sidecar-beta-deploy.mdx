---
layout: post
title: Sidecar Beta Deploy
date: 2019-11-07 15:00 -0800
hide_table_of_contents: true
authors: [evanmcc]
---

On November 7 around 3 PM PDT we rolled out a new beta release.

<!--truncate-->

## Block Weather

We're aware that since our last major deployment on Nov. 1 that block times have been less than
ideal. That release did a much better job of distributing PoC request/receipt pairs, which allowed
more of them to complete, but at the cost of nearly continual overdue blocks (the target block
interval is 60 seconds). To ameliorate this problem, this release includes a new process, which we
call the validation sidecar, that allows validation of requests to proceed in parallel to the
progress of the consensus protocol. This should improve the block times quite a bit, and since it
can validate more than one transaction at time should allow still more PoC receipt transactions to
complete.

We're still working on version two of our PoC system, which radically decreases the cost of
production and validation of receipt transactions, and should allow many more of them to complete,
increasing our insight into hotspot placement and spreading PoC rewards more evenly throughout the
hotspot ownership.

_Update_: During the beta, a few bugs were discovered and fixed.

## Content

- _Validation Sidecar_: As described above, this change allows us to validate transactions in an
  asynchronous way, which should lead to improved block times. PRs:
  [miner/245](https://github.com/helium/miner/pull/245),
  [blockchain-core/285](https://github.com/helium/blockchain-core/pull/285)
- _Metadata Gossip Randomization_: This change reduces the amount of metadata gossip by selecting a
  random subset of the nodes that a given knows instead of gossiping the whole set. This should
  reduce the bandwidth that hotspots use, but may occasionally increase metadata convergence time in
  the system. PRs: [libp2p/229](https://github.com/helium/erlang-libp2p/pull/229)

_Beta Bugfixes_: [miner/251](https://github.com/helium/miner/pull/251),
[miner/252](https://github.com/helium/miner/pull/252)

## Deployment Plan

We plan to let this beta overnight and deploy in the morning PST on Friday the 7th.
