---
layout: post
title: Emergency Firmware Fix
date: 2019-12-19 11:00 -0800
hide_table_of_contents: true
authors: [evanmcc]
---

Over time we've seen our gossip quality degrade as the network has become larger. Quite suddenly, we
crossed some threshold and gossip has become untenable without changes. `libp2p` groups, the
abstraction that our consensus and dkg are built upon, are taking longer and longer to converge,
leading to elections that don't complete, and occasionally to chain stalls. This emergency release
speeds up gossip dissemination by increasing the number of peers to gossip per gossip round, and
changes the seed node connection strategy to only connect to two seed nodes, rather than all of
them. At the same time, we're increasing the number of seed nodes to deal with overload.

<!--truncate-->

## Content

- Tweak libp2p gossip strategies: PR: [libp2p/233](https://github.com/helium/erlang-libp2p/pull/233)

## Deployment Plan

We'll plan a quick beta roll-out of release `2019.12.19.0` to ensure the firmware build went
properly and then release the firmware to all Hotspots.
