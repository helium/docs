---
layout: post
title: 'Blockchain Release: HIP 17 Additional Bugfixes'
date: 2020-12-15 18:41 -0800
hide_table_of_contents: true
authors: [abhay]
---

The `2020.12.15.2` release is an additional bugfix release to add support for
[HIP15](https://github.com/helium/HIP/blob/master/0015-beaconing-rewards.md) and
[HIP17](https://github.com/helium/HIP/blob/master/0017-hex-density-based-transmit-reward-scaling.md).
Please find a detailed breakdown of the bugfixes below.

<!--truncate-->

#### [blockchain-core#703](https://github.com/helium/blockchain-core/pull/703): Update PoC path limit validation

The team is releasing one last minute change to chain variable validation to help allow one of the
chain variables that need to be updated tomorrow to land.

#### Chain Variables

Here's a review of the chain variables we intend to activate tomorrow. Please note the additions of
PoC path length and the change to the PoC Challengee and Witness percentages. The total pool between
the two has stayed the same (26.55%) but we've adjusted the two numbers to be more aligned with the
goals of HIP 15 as written by the author. Because of the way the blockchain calculates rewards
(separately between the two pools), it is necessary to set the Witness rewards pool to be
approximately 4 times the Challengee rewards pool to line up with the witness redundancy target
of 4.

**HIP 15**

| Chain Variable          | Proposed Value | Reason                                                     |
| ----------------------- | -------------- | ---------------------------------------------------------- |
| poc_path_limit          | 1              | Enabling Beacon PoC                                        |
| witness_redundancy      | 4              | Optimum desired redundant witnesses for a PoC transmission |
| poc_reward_decay_rate   | 0.8            | Decay rate for additional PoC transmission                 |
| poc_challengees_percent | 0.0531         | PoC Challengee Rewards (formerly 0.18)                     |
| poc_witnesses_percent   | 0.2124         | PoC Witnesses Rewards (formerly 0.0855)                    |

**HIP 17**

| Chain Variable             | Proposed Value          | Reason                                                                   |
| -------------------------- | ----------------------- | ------------------------------------------------------------------------ |
| hip17_res_0                | `<<"2,100000,100000">>` | Default (unused)                                                         |
| hip17_res_1                | `<<"2,100000,100000">>` | Default (unused)                                                         |
| hip17_res_2                | `<<"2,100000,100000">>` | Default (unused)                                                         |
| hip17_res_3                | `<<"2,100000,100000">>` | Default (unused)                                                         |
| hip17_res_4                | `<<"1,250,800">>`       | Number of siblings: 1, density_tgt: 250, density_max: 800                |
| hip17_res_5                | `<<"1,100,400">>`       | Number of siblings: 1, density_tgt: 100, density_max: 400                |
| hip17_res_6                | `<<"1,25,100">>`        | Number of siblings: 1, density_tgt: 25, density_max: 100                 |
| hip17_res_7                | `<<"2,5,20">>`          | Number of siblings: 2, density_tgt: 5, density_max: 20                   |
| hip17_res_8                | `<<"2,1,4">>`           | Number of siblings: 2, density_tgt: 1, density_max: 4                    |
| hip17_res_9                | `<<"2,1,2">>`           | Number of siblings: 2, density_tgt: 1, density_max: 2                    |
| hip17_res_10               | `<<"2,1,1">>`           | Number of siblings: 2, density_tgt: 1, density_max: 1                    |
| hip17_res_11               | `<<"2,100000,100000">>` | Default (unused)                                                         |
| hip17_res_12               | `<<"2,100000,100000">>` | Default (unused)                                                         |
| density_tgt_res            | `4`                     | Resolution to calculate density                                          |
| hip17_interactivity_blocks | `3600`                  | Number of blocks since last_poc_challenge a Hotspot is considered active |

### Plan

We began beta testing `2020.12.15.2` around 07:20 PM PT, December 15th, 2020 and plan to deploy to
GA on Tuesday, December 15th, 2020 around 9:00 PM PT.

We still plan on activating HIP 15 and HIP 17 chain variables on Wednesday, December 16th, 2020 and
will be announcing this change via push notification and on Discord.
