---
id: minercli
sidebar_label: Miner CLI
hide_title: true
slug: /mine-hnt/miner-cli/minercli
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

# Introduction

The `miner` command line interface (CLI) is a tool to administer and interrogate Helium Validators and Hotspots, both of which run the core `miner` software. The CLI is used to troubleshoot and maintain these devices. 

You can always get more detailed help in the `#blockchain-development` channel in [Discord](https://discord.com/channels/404106811252408320/730245219974381708).

:::info

The github repository to review the code for the miner command is found [here](https://github.com/helium/miner). Note the differing tags for validators and hotspots.

:::

## Example page syntax

The full usage details for all miner commands are located on dedicated command pages. There is one for each top-level command to keep the docs focused. A navgation menu will be on the right hand column to navigate through each sub command. There is a Tab for the Command "inputs" and example outputs of each command are also on an individual tab.

### Example
```
miner peer listen
```

Display the addresses this node is listening on in priority order.

<Tabs
  block={true}
  defaultValue="command"
  values={[{"label":"command","value":"command"},{"label":"output","value":"output"}]}>
<TabItem value="command">

_switches_

| switch              | parameter | Note                                   |
| ------------------- | --------- | -------------------------------------- |
| --format=           | _csv_     | outputs to csv format                  |


_Parameters_

| param               | Type     | Note                                   |
| ------------------- | -------- | -------------------------------------- |
| none                | _n/a_    | none                                   |

</TabItem>
<TabItem value="output">

```
+--------------------------+
|listen_addrs (prioritized)|
+--------------------------+
|/ip4/30.18.38.196/tcp/2154|
| /ip4/172.18.0.3/tcp/2154 |
+--------------------------+
```
or
```
listen_addrs (prioritized)
/ip4/30.18.38.196/tcp/2154
/ip4/172.18.0.3/tcp/2154
```

</TabItem>
</Tabs>


## Top Level Commands

For additional details click [here](/mine-hnt/miner-cli/toplevel)

```
  foreground              Start release with output to stdout
  remote_console          Connect remote shell to running node
  rpc [Mod [Fun [Args]]]] Run apply(Mod, Fun, Args) on running node
  eval [Exprs]            Run expressions on running node
  stop                    Stop the running node
  restart                 Restart the applications but not the VM
  reboot                  Reboot the entire VM
  pid                     Print the PID of the OS process
  ping                    Print pong if the node is alive
  console                 Start the release with an interactive shell
  console_clean           Start an interactive shell without the release's applications
  console_boot [File]     Start an interactive shell for boot script [File]
  daemon                  Start release in the background with run_erl (named pipes)
  daemon_boot [File]      Start boot script [File] in the background with run_erl (named pipes)
  daemon_attach           Connect to node started as daemon with to_erl (named pipes)
  upgrade [Version]       Upgrade the running release to a new version
  downgrade [Version]     Downgrade the running release to a new version
  install [Version]       Install a release
  uninstall [Version]     Uninstall a release
  unpack [Version]        Unpack a release tarball
  versions                Print versions of the release available
  escript                 Run an escript in the same environment as the release
  status                  Verify node is running and then run status hook scripts
```
  

## General Commands

### genesis

For additional details click [here](/mine-hnt/miner-cli/genesis)

```
Usage: miner genesis commands

  genesis create <old_genesis_file> <pubkey> <proof> <addrs>  - Create genesis block keeping old ledger transactions.
  genesis forge <pubkey> <key_proof> <addrs>                  - Create genesis block from scratch just with the addresses.
  genesis load <genesis_file>                                 - Load genesis block from file.
  genesis export <path>                                       - Write genesis block to a file.
  genesis key                                                 - create a keypair for use as a master key
  genesis proof <privkey>                                     - create a key proof for adding a master key to the genesis block
```

### hbbft

For addtional details click [here](/mine-hnt/miner-cli/hbbft)

```

Usage: miner hbbft commands

  hbbft status           - Display hbbft status.
  hbbft queue            - Display hbbft message queue.
  hbbft skip             - Skip current hbbft round.
  hbbft group            - Display current hbbfr group.
  hbbft perf             - Show performance of current group members.

```

### peer

For addtional details click [here](/mine-hnt/miner-cli/peer)

```
Usage: blockchain peer commands

  peer listen            - Display the addresses this node is listening on.
  peer session           - Display the nodes this node is connected to.
  peer ping              - Ping the peer over an established or new session.
  peer connect           - Connnect this node to another node.
  peer disconnect        - Disconnect from a connected peer.
  peer addr              - Display the p2p address of this node.
  peer book              - Display information from the peerbook of this node.
  peer gossip_peers      - Display gossip peers of this node.
  peer refresh           - command an updated peerbook for this peer from our gossip peers.
  peer relay_reset       - Stop the current libp2p relay swarm and retry.
```

### snapshot

For addtional details click [here](/mine-hnt/miner-cli/snapshot)

```
Usage: blockchain snapshot commands

  snapshot take   - Take a snapshot at the current ledger height.
  snapshot load   - Load a snapshot from a file.
  snapshot grab   - Attempt to grab a snapshot from a connected peer.
  snapshot diff   - Load two snapshots from files and find changes.
  snapshot info   - Show information about a snapshot in a file.
  snapshot list   - Show information about the last 5 snapshots.
```

### ledger

For addtional details click [here](/mine-hnt/miner-cli/ledger)

```
Usage: blockchain ledger commands

  ledger balance             - Get the balance for one or all addresses.
  ledger export              - Export transactions from the ledger to <file>.
  ledger gateways            - Display the list of active gateways.
  ledger variables           - Interact with chain variables.
```

### info

For addtional details click [here](/mine-hnt/miner-cli/info)

```
Usage: miner info commands

  info height            - Get height of the blockchain for this miner.
  info in_consensus      - Show if this miner is in the consensus_group.
  info name              - Shows the name of this miner.
  info block_age         - Get age of the latest block in the chain, in seconds.
  info p2p_status        - Shows key peer connectivity status of this miner.
  info onboarding        - Get manufacturing and staking details for this miner.
  info summary           - Get a collection of key data points for this miner.
  info region            - Get the operatating region for this miner.
```

### trace

For addtional details click [here](/mine-hnt/miner-cli/trace)

```
Usage: blockchain trace commands

  trace start   - Start a trace for a given filter and level.
  trace clear   - Clears all installed traces.
```

### txn

For addtional details click [here](/mine-hnt/miner-cli/txn)

```
Usage: blockchain txn commands

  txn queue             - Show enqueued transactions in the txn_queue.
  txn add_gateway       - Create an add gateway transaction.
  txn assert_location   - Create an assert location transaction.
```
### dkg 

For addtional details click [here](/mine-hnt/miner-cli/dkg)

```
Usage: miner dkg commands

  dkg status           - Display dkg status.
  dkg queue            - Display dkg queue.
  dkg running          - Display the running dkg group on a non-dkg mode.
  dkg next             - Display the next block at which an election will take place.
```

### authorize

For addtional details click [here](/mine-hnt/miner-cli/authorize)

Missing in CLI help

### repair

For addtional details click [here](/mine-hnt/miner-cli/repair)

```
Usage: blockchain repair commands

  repair sync_pause     - Temporarily pause transaction sync
  repair sync_cancel    - Cancel any in-progress transaction sync.
  repair sync_resume    - Resume any paused transaction sync.
  repair sync_state     - Show current sync state.
  repair analyze        - Display errors in the current blockchain state.
  repair repair         - Attempt to repair errors in blockchain state.
```

### print_keys

For addtional details click [here](/mine-hnt/miner-cli/print_keys)

Missing in CLI help

## CLI Code Snippets

For additional details click [here](/mine-hnt/miner-cli/codesnips)

